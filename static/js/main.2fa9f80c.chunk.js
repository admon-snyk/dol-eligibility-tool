(this["webpackJsonpproject-papua-ts"]=this["webpackJsonpproject-papua-ts"]||[]).push([[0],{354:function(e,t,n){e.exports=n(624)},359:function(e,t,n){},360:function(e,t,n){},366:function(e){e.exports=JSON.parse("{}")},382:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},456:function(e,t){},458:function(e,t){},498:function(e,t){},499:function(e,t){},624:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(65),o=n.n(i),l=(n(359),n(658)),c=(n(360),n(35)),s=n.n(c),u=n(51),m=n(27),d=n(31),p=n(64),g=n(666),f=n(665),v=function(e){var t=e.label,n=Object(p.a)(e,["label"]);return r.a.createElement(g.a,Object.assign({className:e.primary?"primary-button":"default-button",fill:!1,gap:"xxsmall",style:e.icon?{paddingLeft:e.reverse?"24px":"12px",paddingRight:e.reverse?"12px":"24px",paddingTop:"6px",paddingBottom:"6px"}:{paddingTop:"6px",paddingBottom:"6px"},label:t?r.a.createElement(f.a,{margin:"none",style:{fontWeight:500}},t):void 0},n))},b=n(349),h=function(e){var t=e.children,n=Object(p.a)(e,["children"]);return r.a.createElement(b.a,Object.assign({className:"card",background:"#FFFFFF",style:{border:"2px solid #CCCCCC",borderRadius:"8px"}},n),t)},y=r.a.createElement("svg",{version:"1.1",viewBox:"0 0 32 32",width:"28px",height:"28px",fill:"#7D4CDB"},r.a.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),r.a.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"},r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"}))),x=function(){return r.a.createElement(b.a,{align:"center",justify:"center"},y)},E=n(46),w=n(660),j=n(655);function O(){for(var e={},t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=0,i=n;r<i.length;r++)for(var o=i[r],l=0,c=Object.keys(o);l<c.length;l++){var s=c[l];o[s]&&(e[s]=o[s])}return e}var k=function(e){var t=e.children,n=Object(p.a)(e,["children"]);return r.a.createElement("li",null,r.a.createElement(f.a,Object.assign({fill:!0,margin:"none"},n),t))},z=function(e){var t=e.margin,n=e.size,a=e.children,i=[1,2,3,4,5,6].map((function(e){return Object(E.a)({},"h".concat(e),{component:function(t){return r.a.createElement(w.a,Object.assign({level:e},t))},props:O({margin:{vertical:e>4?"none":"small"}},{margin:t,size:n})})}));return r.a.createElement(b.a,{className:"markdown"},r.a.createElement(j.a,{components:O.apply(void 0,[{li:{component:k,props:O({margin:t,size:n})},p:{component:f.a,props:O({fill:!0},{margin:t,size:n})},span:{component:f.a,props:O({fill:!0,size:"small"},{margin:t,size:n})},a:{props:{target:"_blank",rel:"noopener noreferrer"}}}].concat(Object(d.a)(i)))},a))},C=n(652),F=n(663),S=n(661);var q={language:"en",setLanguage:function(e){}},A=Object(a.createContext)(q),I=function(e){var t=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.error(a),t}})),r=Object(m.a)(n,2),i=r[0],o=r[1];return[i,function(t){try{o(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error(n)}}]}("papua-selected-language",q.language),n=Object(m.a)(t,2),i=n[0],o=n[1];Object(a.useEffect)((function(){var e={en:"en","en-US":"en","en-GB":"en",es:"es",zh:"zh"}[navigator.language];e&&!i&&o(e)}),[i,o]);var l={language:i,setLanguage:o};return r.a.createElement(A.Provider,{value:l},e.children)},D=n(43),N=n(36),B=(n(366),n(327)),M=n.n(B),W=(n(382),n(52)),L=n.n(W),V=function(e){var t,n=e.question,i=Object(a.useContext)(Ae),o=i.values,l=i.setValue,c=o[n.id];c&&(t=L()(c,"YYYY-MM-DDTHH:mm:ssZ",!0).toDate());return r.a.createElement(b.a,{style:{maxWidth:"600px"},pad:{horizontal:"large"}},r.a.createElement(M.a,{className:"date-picker",onChange:function(e){l(n,e?L.a.utc(e).format("YYYY-MM-DDTHH:mm:ssZ"):void 0)},value:t,clearIcon:null,calendarIcon:null}))},R=n(667),T=function(e){var t=e.question,n=Object(a.useContext)(Ae),i=n.values,o=n.setValue,l=n.errors,c=i[t.id],s=Boolean(l[t.id]);return r.a.createElement(b.a,{pad:{horizontal:"large"}},r.a.createElement(R.a,{className:s?"text-input errored":"text-input",value:c||"",onChange:function(e){return o(t,e.target.value)},style:{maxWidth:"600px"}}))},P=n(656),Y=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),i=n[0],o=n[1];return r.a.createElement(b.a,{style:{maxWidth:"600px"},className:i?"dropdown dropdown-open":"dropdown"},r.a.createElement(P.a,Object.assign({onOpen:function(){return o(!0)},onClose:function(){return o(!1)}},e)))},U=function(e){var t=e.question,n=Object(a.useContext)(Ae),i=n.values,o=n.setValue,l=n.translateCopy,c=i[t.id];if(!e.question)return r.a.createElement(b.a,null);if(!t.options)return console.error("expected question to have options"),null;var s=t.options.map((function(e){return{name:l(e.name),id:e.id}}));return r.a.createElement(b.a,{pad:{horizontal:"large"}},r.a.createElement(Y,{a11yTitle:l(t.name),margin:{top:"xsmall"},options:s,labelKey:"name",valueKey:{key:"id",reduce:!0},value:c,onChange:function(e){var n=e.option;return o(t,n.id)}}))},_=n(659),G=function(e){var t=e.question,n=Object(a.useContext)(Ae),i=n.values,o=n.setValue,l=n.translateCopy,c=i[t.id];if(!t||!t.options)return r.a.createElement(b.a,null);var s=t.options.map((function(e){var n="".concat(t.id,":").concat(e.id);return{id:n,value:n,name:n,label:l(e.name)}}));return r.a.createElement(b.a,{className:"radio-button-group",pad:{horizontal:"large"}},r.a.createElement(_.a,{name:l(t.name)||"",options:s,value:"".concat(t.id,":").concat(c),onChange:function(n){var a=n.target.value.split(":")[1];e.onChange?e.onChange(a):o(t,a)},gap:"16px"}))},H=function(e){var t=Object(a.useContext)(Ae),n=t.form,i=t.setValue,o=e.question;o.options=[{id:"true",name:n.instructions.yes},{id:"false",name:n.instructions.no}];return r.a.createElement(G,{question:o,onChange:function(e){i(o,"true"===e)}})},K=n(664),J=n(57),Z=(n(383),function(e){var t=e.color,n=Object(p.a)(e,["color"]),a="".concat(e.size||20,"px"),i="".concat((e.size||20)/2,"px");return r.a.createElement(b.a,Object.assign({style:{height:a,width:a,borderRadius:i},background:{color:t},flex:{shrink:0},justify:"center",align:"center",className:"circle-icon",margin:"none"},n),e.children)}),$=function(e){var t=e.question,n=Object(a.useContext)(Ae),i=n.values,o=n.setValue,l=n.translateCopy,c=i[t.id];return t&&t.options?r.a.createElement(b.a,{pad:{horizontal:"large"}},t.options.map((function(e){var n=Boolean(c&&c.includes(e.id));return r.a.createElement(b.a,{className:n?"checkbox checkbox-selected":"checkbox",key:e.id,margin:{bottom:"16px"}},r.a.createElement(K.a,{checked:n,label:r.a.createElement(b.a,{direction:"row"},e.icon&&r.a.createElement(b.a,{direction:"column",justify:"start",flex:{shrink:0},margin:{right:"16px"}},r.a.createElement(Z,{color:e.icon.color,size:24},r.a.createElement(f.a,{fill:!0,margin:"none",color:"white",style:{fontWeight:500,fontSize:"16px"}},e.icon.label))),r.a.createElement(f.a,{margin:"none",fill:!0},l(e.name))),onChange:function(){return function(e){var n,a=c?Object(d.a)(c):[],r=!a.includes(e.id);r?a.push(e.id):a.splice(a.indexOf(e.id),1);var l,s={},u=Object(D.a)((null===(n=t.additionalKeys)||void 0===n?void 0:n.split(","))||[]);try{for(u.s();!(l=u.n()).done;){var m=l.value;if(e[m]){s[m]=Object(N.a)({},i[m]);var p=e[m].split(",");if(r){var g,f=Object(D.a)(p);try{for(f.s();!(g=f.n()).done;){var v=g.value;s[m][v]=[].concat(Object(d.a)(s[m][v]||[]),[e])}}catch(x){f.e(x)}finally{f.f()}}else{var b,h=Object(D.a)(p);try{for(h.s();!(b=h.n()).done;){var y=b.value;1===s[m][y].length?s[m]=Object(J.omit)(s[m],y):s[m][y]=s[m][y].filter((function(t){return t.id!==e.id}))}}catch(x){h.e(x)}finally{h.f()}}0===Object.keys(s[m]).length&&(s[m]=void 0)}}}catch(x){u.e(x)}finally{u.f()}o(t,a.length>0?a:void 0,s)}(e)}}))}))):r.a.createElement(b.a,null)},Q=n(662),X=function(e){var t=e.question,n=Object(a.useContext)(Ae),i=n.values,o=n.setValue,l=n.errors[t.id];return r.a.createElement(b.a,{pad:{horizontal:"large"}},r.a.createElement(Q.a,{value:i[t.id],onChange:function(e){return o(t,e.target.value)},style:{border:l?"#FF4040 1px solid":"black 1px solid"}}))},ee=[{name:"Alabama",id:"al"},{name:"Alaska",id:"ak"},{name:"American Samoa",id:"as"},{name:"Arizona",id:"az"},{name:"Arkansas",id:"ar"},{name:"California",id:"ca"},{name:"Colorado",id:"co"},{name:"Connecticut",id:"ct"},{name:"Delaware",id:"de"},{name:"District Of Columbia",id:"dc"},{name:"Federated States Of Micronesia",id:"fm"},{name:"Florida",id:"fl"},{name:"Georgia",id:"ga"},{name:"Guam",id:"gu"},{name:"Hawaii",id:"hi"},{name:"Idaho",id:"id"},{name:"Illinois",id:"il"},{name:"Indiana",id:"in"},{name:"Iowa",id:"ia"},{name:"Kansas",id:"ks"},{name:"Kentucky",id:"ky"},{name:"Louisiana",id:"la"},{name:"Maine",id:"me"},{name:"Marshall Islands",id:"mh"},{name:"Maryland",id:"md"},{name:"Massachusetts",id:"ma"},{name:"Michigan",id:"mi"},{name:"Minnesota",id:"mn"},{name:"Mississippi",id:"ms"},{name:"Missouri",id:"mo"},{name:"Montana",id:"mt"},{name:"Nebraska",id:"ne"},{name:"Nevada",id:"nv"},{name:"New Hampshire",id:"nh"},{name:"New Jersey",id:"nj"},{name:"New Mexico",id:"nm"},{name:"New York",id:"ny"},{name:"North Carolina",id:"nc"},{name:"North Dakota",id:"nd"},{name:"Northern Mariana Islands",id:"mp"},{name:"Ohio",id:"oh"},{name:"Oklahoma",id:"ok"},{name:"Oregon",id:"or"},{name:"Palau",id:"pw"},{name:"Pennsylvania",id:"pa"},{name:"Puerto Rico",id:"pr"},{name:"Rhode Island",id:"ri"},{name:"South Carolina",id:"sc"},{name:"South Dakota",id:"sd"},{name:"Tennessee",id:"tn"},{name:"Texas",id:"tx"},{name:"Utah",id:"ut"},{name:"Vermont",id:"vt"},{name:"Virgin Islands",id:"vi"},{name:"Virginia",id:"va"},{name:"Washington",id:"wa"},{name:"West Virginia",id:"wv"},{name:"Wisconsin",id:"wi"},{name:"Wyoming",id:"wy"}].map((function(e){return{name:{en:e.name,es:e.name,zh:e.name},id:e.id}})),te=function(e){var t=e.question;return t.options=ee,r.a.createElement(U,{question:t})},ne=function(e){return r.a.createElement("svg",{transform:e.open?"rotate(90)":void 0,width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"caret"},r.a.createElement("path",{d:"M1 1L7 7L1 13",stroke:"#333333",strokeWidth:"2"}))},ae=function(e){var t=e.question,n=Object(a.useContext)(Ae),i=n.values,o=n.form,l=n.translateCopy,c=Object(a.useState)({}),s=Object(m.a)(c,2),u=s[0],d=s[1],p=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),r=n[0],i=n[1];function o(t){t.key===e&&i(!0)}var l=function(t){t.key===e&&i(!1)};return Object(a.useEffect)((function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",l),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",l)}}),[]),r}("Alt");if(!t.sections)return null;var g=be(t.sections,o,i);return r.a.createElement(b.a,{style:{backgroundColor:t.sections.color},pad:{horizontal:"large",vertical:"large"}},r.a.createElement(w.a,{level:3,margin:"none"},l(t.sections.name)),g.map((function(e,t){var n=e.section,a=e.options.filter((function(e){return!!e.icon})).map((function(e){return e.icon}));return a.sort((function(e,t){return e.label.localeCompare(t.label)})),r.a.createElement(b.a,{background:"#FFFFFF",style:{border:"1px solid #CCCCCC",borderRadius:"4px",overflowWrap:"break-word",transitionDuration:".2s"},justify:"between",key:"section_".concat(t),margin:{top:"small"},className:"accordion",overflow:"hidden"},r.a.createElement(b.a,{height:"70px",direction:"row",align:"center",justify:"between",onClick:function(e){return function(e,t){if(p)if(Object.keys(u).length>0)d({});else{var n,a={},r=Object(D.a)(g);try{for(r.s();!(n=r.n()).done;){a[n.value.section.title.en]=!0}}catch(i){r.e(i)}finally{r.f()}d(a)}else d(Object(N.a)({},u,Object(E.a)({},t,!u[t])))}(0,n.title.en)},pad:{horizontal:"24px"},className:"accordion-header",background:u[n.title.en]?"#F8F8F8":"#FFFFFF",hoverIndicator:{color:"#F8F8F8"}},r.a.createElement(b.a,null,r.a.createElement(w.a,{margin:"none",level:5,style:{color:"black"}},l(n.title))),r.a.createElement(b.a,{direction:"row",justify:"end",align:"center",flex:{shrink:0}},a.map((function(e,t){return r.a.createElement(b.a,{direction:"column",justify:"center",flex:{shrink:0},margin:{right:t===a.length-1?"16px":"8px"},key:e.label},r.a.createElement(Z,{color:e.color,size:24},r.a.createElement(f.a,{fill:!0,margin:"none",color:"white",style:{fontWeight:500,fontSize:"16px"}},e.label)))})),r.a.createElement(ne,{open:u[n.title.en]}))),r.a.createElement(b.a,{pad:{horizontal:"24px"},className:"accordion-content",style:{maxHeight:u[n.title.en]?"500px":"0px"}},r.a.createElement(b.a,{pad:{vertical:"16px"}},r.a.createElement(z,{size:"small"},l(n.content)))))})))},re=n(328),ie=function(e){var t=e.question,n=Object(a.useContext)(Ae),i=n.setValue,o=n.errors,l={type:"tel",allowNegative:!1};"dollar-amount"===t.type?l=Object(N.a)({},l,{prefix:"$",thousandSeparator:!0,decimalScale:2}):"integer"===t.type?l=Object(N.a)({},l,{decimalScale:0}):"decimal"===t.type?l=Object(N.a)({},l,{thousandSeparator:!0,decimalScale:2}):"phone"===t.type?l=Object(N.a)({},l,{decimalScale:0,format:"+1 (###) ###-####",allowEmptyFormatting:!0,mask:"_"}):"ssn"===t.type&&(l=Object(N.a)({},l,{decimalScale:0,format:"###-##-####",allowEmptyFormatting:!0,mask:"_"}));var c=Boolean(o[t.id]);return r.a.createElement(b.a,{pad:{horizontal:"large"}},r.a.createElement(re.a,Object.assign({className:c?"text-input errored":"text-input",customInput:R.a,onValueChange:function(e){var n=e.floatValue;i(t,n)},style:{maxWidth:"600px"}},l)))},oe=n(649),le=n(650),ce=n(651),se=n(348),ue=n(330),me=(n(384),function(e){var t=e.question,n=Object(a.useContext)(Ae),i=n.values,o=n.setValue,l=n.translateByID,c=i[t.id],m=function(){var e=Object(u.a)(s.a.mark((function e(n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map((function(e){return new Promise((function(t){var n=new FileReader;n.onerror=function(){t()},n.onabort=function(){t()},n.onload=function(){t({name:e.name,type:e.type,size:e.size,contents:Object(ue.encode)(n.result)})},n.readAsArrayBuffer(e)}))})));case 2:a=e.sent,o(t,[].concat(Object(d.a)(c||[]),Object(d.a)(a.filter((function(e){return!!e})))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(se.a)({minSize:100,maxSize:4194304,onDrop:m,accept:["image/png","image/jpeg","image/jpg","application/pdf"]}),v=p.getRootProps,h=p.getInputProps,y=p.isDragActive,x=p.isFocused,E=function(){o(t,void 0)},w=y||x?"#4776F6":"#CCCCCC";return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,Object.assign({pad:"large",gap:"small",alignContent:"center",align:"center",style:{outline:"2px dashed ".concat(w),cursor:"pointer"},background:{color:"#F6F7F9"},className:"file-upload-box",margin:{bottom:"12px"}},v()),r.a.createElement("input",h()),r.a.createElement(f.a,{margin:{vertical:"none"},color:"black"},l("file-uploader-drag-drop")),r.a.createElement(f.a,{margin:{vertical:"none"},color:"black"},l("file-uploader-or")),r.a.createElement(f.a,{margin:{vertical:"none"},color:"#4776F6",style:{display:"flex",fontWeight:600}},l("file-uploader-choose-file"),r.a.createElement(Z,{color:"#4776F6",margin:{left:"6px"}},r.a.createElement(oe.a,{color:"white",className:"file-upload-icon"})))),c&&c.map((function(e,t){return r.a.createElement(b.a,{direction:"row",pad:"medum",height:"75px",key:t,align:"center",justify:"between"},r.a.createElement(b.a,{direction:"row"},r.a.createElement(F.a,{src:"/file.jpg.svg",width:"45px"}),r.a.createElement(f.a,{margin:{left:"12px",bottom:"12px"}},e.name)),r.a.createElement(b.a,{direction:"row",align:"center"},r.a.createElement(f.a,{margin:{vertical:"none",right:"12px"}},l("file-uploader-uploaded")),r.a.createElement(Z,{color:"#4776F6"},r.a.createElement(le.a,{color:"white",style:{width:"12px",height:"12px"}})),r.a.createElement(g.a,{icon:r.a.createElement(ce.a,null),onClick:E,size:"small",margin:{left:"20px"},style:{borderRadius:"20px",padding:"3px"},primary:!0,color:"#eee",hoverIndicator:{color:"lightgrey"}})))})))}),de=n(331),pe=n.n(de);function ge(e,t){var n,a=[],r=Object(D.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.push(i);var o=t[i.id];if(void 0!==o&&i.switch&&ve(i.switch,o)){var l=ve(i.switch,o);a.push.apply(a,Object(d.a)(ge(l,t)))}}}catch(c){r.e(c)}finally{r.f()}return a}var fe={shorttext:T,date:V,dropdown:U,"single-select":G,boolean:H,multiselect:$,longtext:X,"instructions-only":b.a,"state-picker":te,decimal:ie,integer:ie,"dollar-amount":ie,phone:ie,ssn:ie,file:me,checkbox:function(e){var t=e.question,n=Object(p.a)(e,["question"]),i=Object(a.useContext)(Ae),o=i.values,l=i.setValue,c=i.translateCopy,s=i.errors,u=o[t.id],m=Boolean(s[t.id]);return r.a.createElement(b.a,{className:pe()("checkbox",{"checkbox-selected":!!u,errored:m}),margin:"none",pad:{horizontal:"large"}},r.a.createElement(K.a,Object.assign({checked:!0===u,label:r.a.createElement(f.a,{margin:"none"},c(t.options[0].name)),onChange:function(){return l(t,!u)}},n)))},sections:ae};function ve(e,t){if(!e||void 0===t)return[];var n=Object.keys(e).filter((function(e){return e.split(",").includes(t.toString())||Array.isArray(t)&&t.some((function(t){return e.split(",").includes(t)}))}));return 0===n.length?[]:e[n[n.length-1]]}function be(e,t,n){var a=t.sections;if(!a||!e)return[];var r=[];if(e.include&&r.push.apply(r,Object(d.a)(e.include.map((function(e){return{section:a[e],options:[]}})))),e.id){var i=n[e.id]||{};r.push.apply(r,Object(d.a)(Object.entries(i).map((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];return{section:a[n],options:r}}))))}return r}var he=n(216),ye=n(215),xe=n.n(ye),Ee=(n(408),n(332)),we=n.n(Ee),je=n(37),Oe=n.n(je);function ke(e,t){var n=e.instructions[t];if(!n)throw new Error("Unknown instructions id: ".concat(t));return n}function ze(e,t,n,a){var r,i,o=[];if(void 0===t)return e.required?(o.push(ke(a,"field-is-required")),{errors:o,dependencies:[]}):{errors:[],dependencies:[]};function l(e,t,n){var r=e.strict().options({presence:"required"}).validate(t).error;return r&&o.push(ke(a,n)),!r}switch(e.type){case"email":l(Oe.a.string(),t,"invalid-email")&&(we.a.validate(t)||o.push(ke(a,"invalid-email")));break;case"decimal":l(Oe.a.number().precision(2).min(0).max(2147483647),t,"invalid-decimal");break;case"integer":l(Oe.a.number().precision(0).min(0).max(2147483647),t,"invalid-integer");break;case"dollar-amount":l(Oe.a.number().precision(2).min(0).max(2147483647),t,"invalid-dollar");break;case"shorttext":case"longtext":l((r=Oe.a.string()).allow.apply(r,Object(d.a)(e.required?[]:[""])).max("shorttext"===e.type?200:1e4),t,"invalid-text");break;case"date":l(Oe.a.string().custom((function(e,t){return L()(e,"YYYY-MM-DDTHH:mm:ssZ",!0).isValid()?e:t.error("any.invalid")})),t,"invalid-date");break;case"dropdown":case"single-select":case"state-picker":if(l(Oe.a.string(),t,"invalid-select")){var c="state-picker"===e.type?ee:e.options;(null===c||void 0===c?void 0:c.find((function(e){return e.id===t})))||o.push(ke(a,"invalid-select"))}break;case"multiselect":if(l(Oe.a.array().items(Oe.a.string()),t,"invalid-select"))t.some((function(t){var n;return!(null===(n=e.options)||void 0===n?void 0:n.find((function(e){return e.id===t})))}))&&o.push(ke(a,"invalid-select"));break;case"boolean":l(Oe.a.boolean(),t,"invalid-boolean");break;case"phone":l(Oe.a.number().precision(0).min(1e9).max(9999999999),t,"invalid-phone");break;case"ssn":l(Oe.a.number().precision(0).min(1e8).max(999999999),t,"invalid-ssn");break;case"arn":l(Oe.a.string().regex(/^A[0-9]{7,9}$/),t,"invalid-arn");break;case"address":l(Oe.a.string(),t,"invalid-address");break;case"instructions-only":o.push(ke(a,"invalid-instructions-only"));break;case"file":l(Oe.a.array().min(e.required?1:0).max(10).items(Oe.a.object({name:Oe.a.string().optional(),type:Oe.a.string().valid("image/png","image/jpeg","image/jpg","application/pdf"),size:Oe.a.number().min(0),contents:Oe.a.string().min(1)})),t,"invalid-file");break;case"checkbox":!0!==t&&o.push(ke(a,"invalid-checkbox"))}var s=[];return null===(i=e.validate)||void 0===i||i.forEach((function(a){var r,i=a.type,l=a.value,c=a.error;if("string"===typeof l&&l.startsWith("id:")&&s.push(l.slice(3)),"regex"===i){var u=new RegExp(l);r="string"===typeof t&&u.test(t)}else if("matches_field"===i){var m=l.slice(3);r=t===n[m]}else if(("min"===i||"max"===i)&&"date"===e.type){var d=L()(t,L.a.ISO_8601);if(l.startsWith("id:")){var p=l.slice(3),g=n[p];if(void 0===g)r=!0;else{var f=L()(g,L.a.ISO_8601);r="min"===i?d.isSameOrAfter(f):d.isSameOrBefore(f)}}else{var v=l[l.length-1],b=Number(l.slice(0,l.length-1)),h=L()().add(b,v);r="min"===i?d>=h:d<=h}}r||o.push(c)})),{errors:o,dependencies:s}}function Ce(e){if(!e.definitions)return e;for(var t=function t(n){for(var a=0;a<n.length;a++){var r=n[a];if(r.switch)for(var i=0,o=Object.keys(r.switch);i<o.length;i++){for(var l=o[i],c=r.switch[l],s=[],u=0;u<c.length;u++){var m=c[u];if("string"===typeof m&&m.startsWith("definition:")){var p=m.replace(/^definition:/,""),g=e.definitions[p];if(!g){console.error("Unknown question set definition: ".concat(p));continue}s.push.apply(s,Object(d.a)(t(g)))}else s.push.apply(s,Object(d.a)(t([m])))}n[a].switch[l]=s}}return n},n=0;n<e.pages.length;n++)e.pages[n].questions=t(e.pages[n].questions);return e}var Fe=n(66),Se=n.n(Fe),qe={form:void 0,values:{},errors:{},setValue:function(e,t,n){},setError:function(e,t){}},Ae=Object(a.createContext)(qe),Ie=function(e){var t=Object(a.useState)(qe.form),n=Object(m.a)(t,2),i=n[0],o=n[1],l=Object(a.useState)(qe.values),c=Object(m.a)(l,2),d=c[0],p=c[1],g=Object(a.useState)(qe.errors),f=Object(m.a)(g,2),v=f[0],y=f[1],w=Object(a.useState)({}),j=Object(m.a)(w,2),O=j[0],k=j[1],C=Object(a.useState)(0),F=Object(m.a)(C,2),S=F[0],q=F[1],I=Object(a.useState)(),B=Object(m.a)(I,2),M=B[0],W=B[1],L=Object(a.useContext)(A).language;Object(a.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a,r,i,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([he.a.get("form.yml").text(),he.a.get("form.sample.yml").text()]);case 2:t=e.sent,n=Object(m.a)(t,2),a=n[0],r=n[1],e.prev=6,i=xe.a.safeLoad(a,{json:!0}),l=xe.a.safeLoad(r,{json:!0}),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),W({message:"Failed to parse YAML form",error:e.t0}),e.abrupt("return");case 15:c=Ce(c=null===i?l:i),o(c);case 20:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(){return e.apply(this,arguments)}})()().catch((function(e){console.error(e)}))}),[]);var V=Object(a.useCallback)((function(e,t){if(e){var n=e[L];return n=n.replace(/\{\{([a-ziA-Z0-9._:-]+)\}\}/g,(function(e,n){var a=Object(J.get)(t||(null===i||void 0===i?void 0:i.variables),n);if(n.startsWith("id:")){var r=n.slice(3);a=d[r]?String(d[r]):a}return a||e}))}}),[i,L,d]);if(Object(a.useEffect)((function(){if(i){document.title=V(i.title);var e=document.querySelector('meta[name="description"]');e||((e=document.createElement("meta")).setAttribute("name","description"),document.head.appendChild(e)),e.setAttribute("content",V(i.description))}}),[i,V]),M){var R="\n## \u26a0\ufe0f Form Parsing Error\n\n".concat(M.message,"\n\n").concat(M.error?"```"+JSON.stringify(M.error,null,2)+"```":"");return r.a.createElement(h,{margin:{vertical:"medium",horizontal:"auto"},pad:{horizontal:"medium",vertical:"small"},width:{max:"800px"}},r.a.createElement(b.a,{pad:"medium"},r.a.createElement(z,null,R)))}if(!i)return r.a.createElement(b.a,{pad:"medium"},r.a.createElement(x,null));var T={form:i,values:d,setValue:function(e,t,n){console.log("[Google Analytics] sending event: Answer Updated"),gtag("event","Answer Updated",{id:e.id,value:t}),Se.a.getInstance().logEvent("Answer Updated",{id:e.id,value:t});var a=Object(N.a)({},d,Object(E.a)({},e.id,t),n||{});void 0===t&&(a=Object(J.omit)(a,e.id)),a=Object(J.omit)(a,Object.keys(n||{}).filter((function(e){return void 0===n[e]}))),p(a);var r,o=ze(e,t,d,i),l=o.errors,c=o.dependencies,s=l.length>0?Object(N.a)({},v,Object(E.a)({},e.id,l)):Object(J.omit)(v,e.id),u=i.pages[S],m=Object(D.a)(c);try{var g=function(){var e=r.value;if(void 0!==d[e]){var t=ge(u.questions,d).find((function(t){return t.id===e})),n=ze(t,d[e],a,i).errors;s=n.length>0?Object(N.a)({},s,Object(E.a)({},t.id,n)):Object(J.omit)(s,t.id)}};for(m.s();!(r=m.n()).done;)g()}catch(b){m.e(b)}finally{m.f()}y(s);var f=function(e,t,n){if(!e)return!0;var a=ge(e.questions,t),r=a.map((function(e){return e.id}));return a.filter((function(e){return e.required})).map((function(e){return e.id})).every((function(e){return void 0!==t[e]}))&&!r.some((function(e){return n[e]}))}(u,a,s);k(Object(N.a)({},O,Object(E.a)({},S,f)))},errors:v,setError:function(e,t){return y(Object(N.a)({},v,Object(E.a)({},e,t)))},translateCopy:V,translateByID:function(e,t){return V(i.instructions[e],t)},completion:O,pageIndex:S,setPage:function(e){q(e),window.scrollTo(0,0)}};return r.a.createElement(Ae.Provider,{value:T},e.children)},De=[{title:"English",value:"en"},{title:"Espa\xf1ol",value:"es"}],Ne=function(e){var t=e.pages,n=Object(a.useContext)(Ae),i=n.translateByID,o=n.form,l=n.pageIndex,c=n.setPage,s=n.completion,u=Object(a.useContext)(A),m=u.language,d=u.setLanguage,p=Object(a.useContext)(C.a),g=t[l],v=Object(J.range)(0,o.pages.length).map((function(e){return s[e]?1:0})).reduce((function(e,t){return e+t}),0),y=Math.floor(v/t.length*100),x=function(e){return Object(J.range)(0,e).every((function(e){return s[e]}))};return r.a.createElement(b.a,{flex:{shrink:0},margin:"small"===p?{top:"small"}:{left:"small"},direction:"column",width:"small"===p?"100%":"350px"},r.a.createElement(h,{margin:{bottom:"small"},pad:{horizontal:"small"===p?"24px":"medium",vertical:"small"}},r.a.createElement(z,null,i("demo-warning"))),r.a.createElement(h,{pad:"medium"},o.seal&&r.a.createElement(b.a,{margin:{bottom:"medium"}},r.a.createElement(F.a,{src:o.seal,style:{maxHeight:"175px",maxWidth:"100%",objectFit:"contain"}})),r.a.createElement(b.a,null,r.a.createElement(w.a,{level:4,margin:"none"},i("language")),r.a.createElement(Y,{a11yTitle:"select language",margin:{top:"xsmall"},options:De,labelKey:"title",valueKey:{key:"value",reduce:!0},value:m,onChange:function(e){var t=e.value;console.log("[Google Analytics] sending event: Change Language"),gtag("event","Change Language",{prevLanguage:m,newLanguage:t}),Se.a.getInstance().logEvent("Change Language",{prevLanguage:m,newLanguage:t}),d(t)}})),r.a.createElement(b.a,{margin:{top:"medium"}},r.a.createElement(b.a,{direction:"row",justify:"between"},r.a.createElement(w.a,{level:4,margin:"none"},i("progress")),r.a.createElement(f.a,{margin:"none"},y,"%")),r.a.createElement(b.a,{margin:{top:"xsmall"},style:{width:"100%",height:"12px",borderRadius:"12px",background:"#F2F2F2"}},r.a.createElement(b.a,{style:{width:"".concat(y,"%"),height:"100%",borderRadius:"12px",background:"#3A80C2"}}))),r.a.createElement(b.a,{margin:{top:"medium"}},"small"===p&&t.length>2?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{level:4,margin:"none"},i("section")),r.a.createElement(Y,{a11yTitle:"select section",margin:{top:"xsmall"},options:t.map((function(e,t){return{page:e,i:t,disabled:!x(t)}})),labelKey:"page",valueKey:{key:"i",reduce:!0},disabledKey:"disabled",value:l,onChange:function(e){var t=e.value;return c(t)}})):t.map((function(e,t){return r.a.createElement(S.a,{style:{cursor:x(t)?"pointer":"not-allowed",opacity:g===e?"100%":x(t)?"50%":"20%"},onClick:function(){return x(t)&&c(t)},margin:{bottom:"xsmall"},key:e},e)})))))},Be=function e(t){var n,i,o,l=t.question,c=(i=l.type,fe[i]||T),s=Object(a.useContext)(Ae),u=s.values,m=s.errors,d=s.form,p=s.translateCopy,g=s.translateByID,f=u[l.id],v=m[l.id];return Object(a.useEffect)((function(){var e,t;f&&(null===(e=d.variables)||void 0===e?void 0:e.autoscroll)&&(null===(t=o)||void 0===t||t.scrollIntoView({behavior:"smooth"}))}),[f]),"sections"===l.type&&0===be(l.sections,d,u).length?r.a.createElement(b.a,null):r.a.createElement(b.a,{direction:"column",margin:{top:"sections"===l.type?"none":"48px"}},(l.name||l.instructions)&&r.a.createElement(b.a,{fill:!0,className:"question-heading-box",pad:{horizontal:"large"},margin:{bottom:"16px"}},l.name&&r.a.createElement(b.a,{direction:"row",align:"start"},r.a.createElement(w.a,{style:{maxWidth:"none"},level:4,margin:{horizontal:"none",top:"none",bottom:l.instructions?"8px":"none"}},p(l.name),!l.required&&!["instructions-only","sections"].includes(l.type)&&r.a.createElement("em",null," (",g("optional"),")"))),l.instructions&&r.a.createElement(z,{size:"small"},p(l.instructions))),r.a.createElement(c,{question:l}),v&&r.a.createElement(b.a,{pad:{horizontal:"large"}},v.map((function(e){return r.a.createElement(S.a,{key:e.en,margin:{top:"xsmall"},color:"#E42906"},p(e))}))),r.a.createElement(b.a,{ref:function(e){return o=e}},l.switch&&(null===(n=ve(l.switch,f))||void 0===n?void 0:n.map((function(t){return r.a.createElement(e,{question:t,key:t.id})})))))},Me=n(653),We=n(654),Le=n(23),Ve=n(94),Re=n.n(Ve),Te=Le.c.create({page:{flexDirection:"row",backgroundColor:"white"},pageContent:{margin:10,padding:10,flexGrow:1},heading:{fontSize:20,fontWeight:500,marginBottom:8},questionTitle:{fontSize:16,fontWeight:500,marginBottom:8},questionAnswer:{fontSize:12},section:{padding:12,border:"1px solid black",backgroundColor:"#F8F8F8",marginBottom:12},sectionTitle:{fontSize:12,marginBottom:8,fontWeight:"bold"},sectionContent:{fontSize:10},questionSection:{paddingTop:12,borderTop:"1px solid black"}}),Pe=/\[([^[]+)\](\(.*\))/gm;function Ye(e){return e?e.replace(Pe,(function(e,t,n){return"".concat(t,": ").concat(n.replace(/[{()}]/g,""))})):e}var Ue=function(e){var t,n=e.option;return r.a.createElement(Le.e,{key:n.id,style:{marginRight:8,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:n.icon?n.icon.color:"grey",height:20,width:20,borderRadius:10}},r.a.createElement(Le.d,{style:{fontSize:12}},null===(t=n.icon)||void 0===t?void 0:t.label))},_e=function(e){var t=e.translateCopy,n=e.form,a=e.values,i=[];return n.pages.forEach((function(e){i=i.concat(ge(e.questions,a))})),r.a.createElement(Le.a,null,r.a.createElement(Le.b,{size:"A4",style:Te.page},r.a.createElement(Le.e,{style:Te.pageContent},r.a.createElement(Le.d,{style:Te.heading},t(n.title)),r.a.createElement(Le.d,{style:{fontSize:12,marginBottom:20}},"Completed ",L()().format("MMMM DD, YYYY")),i.map((function(e,i){var o=function(e,a){if("multiselect"===e.type&&a[e.id]){var i=a[e.id].map((function(n){var a=e.options.find((function(e){return e.id===n}));return a?a.icon?r.a.createElement(Le.e,{style:{alignItems:"flex-start",marginBottom:8,display:"flex",flexDirection:"row"},key:e.id},r.a.createElement(Ue,{option:a}),r.a.createElement(Le.d,{style:{fontSize:12,width:"90%"}},Re()(t(a.name)))):"\n\u2022 ".concat(Re()(t(a.name))):r.a.createElement(Le.e,null)}));return r.a.createElement(Le.e,null,i)}if("single-select"===e.type){var o=e.options.find((function(t){return t.id===a[e.id]}));if(o)return r.a.createElement(Le.d,{style:Te.questionAnswer},Re()(t(o.name)))}return"checkbox"===e.type?r.a.createElement(Le.d,{style:Te.questionAnswer},Re()(t(e.options[0].name))):"sections"===e.type?r.a.createElement(Le.e,null,be(e.sections,n,a).map((function(e,n){var a=e.section,i=e.options;return r.a.createElement(Le.e,{style:Te.section,key:"".concat(t(a.title),"_").concat(n)},r.a.createElement(Le.e,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12}},r.a.createElement(Le.d,{style:{fontSize:12,marginBottom:8,fontWeight:"bold"}},t(a.title)),r.a.createElement(Le.e,{style:{display:"flex",flexDirection:"row"}},i.map((function(e){return r.a.createElement(Ue,{key:e.id,option:e})})))),r.a.createElement(Le.d,{style:Te.sectionContent},Re()(Ye(t(a.content)))))}))):r.a.createElement(Le.e,null)}(e,a),l=t(e.name),c="sections"===e.type||"instructions-only"===e.type;return!o||"sections"===e.type&&0===be(e.sections,n,a).length?r.a.createElement(Le.e,null):r.a.createElement(Le.e,{style:{marginBottom:20},key:"".concat(e.id,"_").concat(i)},r.a.createElement(Le.d,{style:Te.questionTitle},c?Re()(Ye(t(e.instructions))):"".concat(i+1,". ").concat(l)),o)})))))},Ge=function(){var e=Object(a.useContext)(Ae),t=e.form,n=e.translateByID,i=e.translateCopy,o=e.completion,l=e.pageIndex,c=e.setPage,p=e.values,g=Object(a.useContext)(C.a),f=Object(d.a)(t.pages.map((function(e){return i(e.title)}))),y=Object(d.a)(t.pages.map((function(e){return r.a.createElement(b.a,{direction:"column",justify:"start",key:e.heading.en,margin:"none"},r.a.createElement(b.a,{pad:{horizontal:"large"}},r.a.createElement(w.a,{margin:{horizontal:"none",top:"none",bottom:e.instructions?"24px":"none"},level:3},i(e.heading)),e.instructions&&r.a.createElement(z,{size:"small"},i(e.instructions))),e.questions.map((function(e){return r.a.createElement(Be,{question:e,key:e.id})})))}))),x=Object(a.useState)(),E=Object(m.a)(x,2),j=E[0],O=E[1],k=function(){var e=Object(u.a)(s.a.mark((function e(){var n,a,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[Google Analytics] sending event: Download"),gtag("event","Download"),Se.a.getInstance().logEvent("Download"),n="new-jersey-eligiblity.pdf",e.next=6,Object(Le.f)(r.a.createElement(_e,{form:t,values:p,translateCopy:i})).toBlob();case 6:if(a=e.sent){e.next=12;break}return gtag("event","PDF Generation Failed"),Se.a.getInstance().logEvent("PDF Generation Failed"),console.error("Failed to generate PDF"),e.abrupt("return");case 12:if(!window.navigator.msSaveBlob){e.next=15;break}return window.navigator.msSaveBlob(a,n),e.abrupt("return");case 15:(o=document.createElement("a")).setAttribute("style","display: none;"),document.body.appendChild(o),l=window.URL.createObjectURL(a),o.setAttribute("href",l),o.setAttribute("download",n),o.click(),j&&window.URL.revokeObjectURL(j),O(l);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t&&(console.log("[Google Analytics] sending page call: ",t.pages[l].title.en),gtag("event","page_view",{title:t.pages[l].title.en}),Se.a.getInstance().logEvent("Page View",{title:t.pages[l].title.en}))}),[t,l]),r.a.createElement(b.a,{align:"center",pad:"medium",direction:"column",width:"100%",style:{maxWidth:"1200px"}},r.a.createElement(b.a,{width:"100%",height:"100%",justify:"center",direction:"small"===g?"column":"row"},r.a.createElement(h,{justify:"between",flex:{grow:1,shrink:1},pad:{vertical:"48px"}},y[l],r.a.createElement(b.a,{justify:"between",pad:{horizontal:"large"},margin:{top:"48px"},direction:"row"},l>0&&r.a.createElement(v,{onClick:function(){return c(l-1)},label:n("back"),icon:r.a.createElement(Me.a,null)})||r.a.createElement(b.a,null),l+1<f.length&&r.a.createElement(v,{primary:0===l,onClick:function(){return c(l+1)},disabled:!o[l],icon:r.a.createElement(We.a,null),reverse:!0,label:n(0===l?"get-started":"next")}),l===f.length-1&&null,l===f.length-1&&r.a.createElement(v,{primary:!0,disabled:!o[l],label:"Download",onClick:function(){return o[l]&&k()}}))),r.a.createElement(Ne,{pages:f})))},He=function(e){return r.a.createElement(b.a,{direction:"column",height:{min:"100vh"}},r.a.createElement(b.a,null,r.a.createElement(Ke,null)),r.a.createElement(b.a,{flex:{grow:1},align:"center"},e.children),r.a.createElement(b.a,null,r.a.createElement(Je,null)))},Ke=function(){return null},Je=function(){return r.a.createElement(b.a,{background:{color:"#FFFFFF"},elevation:"medium",align:"center"},r.a.createElement(b.a,{width:"100%",justify:"start",style:{maxWidth:"1200px"},pad:{horizontal:"medium",vertical:"16px"},direction:"row",align:"center"},r.a.createElement(f.a,{style:{fontWeight:600},size:"small"},"Built by"),r.a.createElement("a",{href:"https://www.usdigitalresponse.org/",target:"_blank",rel:"noopener noreferrer",tabIndex:-1},r.a.createElement(F.a,{style:{display:"block"},width:"100px",src:"./USDR-full-logo-color.png",margin:{horizontal:"12px"}})),r.a.createElement(f.a,{size:"small"},"a nonpartisan effort to assist the U.S. government.")))},Ze=n(346),$e=n.n(Ze),Qe=n(347);Se.a.getInstance().init("f97e7157248bb243a19ad46f17cdf2d7"),Object.values||$e.a.shim(),window.TextEncoder||(window.TextEncoder=Qe.TextEncoder);var Xe="26px",et="18px",tt="18px",nt="14px",at={global:{colors:{text:{dark:"white",light:"black"}},focus:{border:{color:"#bfcffb"}},text:{align:"left"},selected:{background:"#F2F2F2",color:"black"},control:{border:{color:"black",radius:"4px"}}},paragraph:{small:{size:nt},medium:{size:tt},large:{size:tt},xlarge:{size:tt},xxlarge:{size:tt}},heading:{level:{1:{small:{size:Xe},medium:{size:Xe},large:{size:Xe},xlarge:{size:Xe},xxlarge:{size:Xe}},2:{small:{size:Xe},medium:{size:Xe},large:{size:Xe},xlarge:{size:Xe},xxlarge:{size:Xe}},3:{small:{size:Xe},medium:{size:Xe},large:{size:Xe},xlarge:{size:Xe},xxlarge:{size:Xe}},4:{small:{size:et},medium:{size:et},large:{size:et},xlarge:{size:et},xxlarge:{size:et}},5:{small:{size:et},medium:{size:et},large:{size:et},xlarge:{size:et},xxlarge:{size:et}},6:{small:{size:nt},medium:{size:nt},large:{size:nt},xlarge:{size:nt},xxlarge:{size:nt}}}},select:{icons:{color:"#000000"},options:{text:{color:"black"}},container:{borderRadius:"4px"}},radioButton:{gap:"16px"},button:{border:{color:"transparent"},primary:{color:"#4776f6"}},checkBox:{color:"#FFFFFF",check:{color:"#205EFF"},gap:"16px"}};var rt=function(){return r.a.createElement(l.a,{className:"App",theme:at},r.a.createElement(I,null,r.a.createElement(Ie,null,r.a.createElement(He,null,r.a.createElement(Ge,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(rt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[354,1,2]]]);
//# sourceMappingURL=main.2fa9f80c.chunk.js.map